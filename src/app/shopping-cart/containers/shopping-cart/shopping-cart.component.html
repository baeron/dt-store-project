<div
  class="banner"
  [style.backgroundImage]="'url(../../../../assets/header/header-small-bg.png)'"
></div>
<div>
  <div *ngIf="(shoppingCartItems$ | async) as cart; else loading">
    <div *ngIf="!userEmail">
      <h5>You are not authorize. Please Sign In or Sign Up</h5>
    </div>
    <div class="table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Category name</th>
            <th scope="col">Product name</th>
            <th scope="col">Product price</th>
            <th scope="col">Product price</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let itemBought of cart; index as i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ itemBought.categoryName }}</td>
            <td>{{ itemBought.name }}</td>
            <td>{{ itemBought.price }}</td>
            <td><button (click)="onRemoveItem(itemBought)">Remove</button></td>
          </tr>
          <!--
          <ng-container *ngFor="let itemBought of cart; index as i">
            <app-item-bought
              [boughtItem]="itemBought"
              [index]="i"
              (removeItem)="onRemoveItem($event)"
            ></app-item-bought>
          </ng-container>
        --></tbody>
      </table>
    </div>
    <div>Total: {{ getTotal() | async }}</div>
    <div class="d-flex justify-content-end">
      <button (click)="buyAll()" [disabled]="!userEmail">BUY ALL</button>
    </div>
  </div>
  <ng-template #loading> Loading data </ng-template>
</div>
